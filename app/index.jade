!!! 5
html(lang='en', ng-app='app')
  head
    meta(charset='utf-8')
    meta(http-equiv="X-UA-Compatible", content="IE=edge,chrome=1")
    meta(name='viewport', content='width=device-width', initial-scale='1.0')
    meta(name='description', content='')
    meta(name='author', content='')
    title(ng-bind-template='Mycroft Source')
    link(rel='stylesheet', href='css/app.css')
    //-script(src='http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js')
    //if lte IE 7
      script(src='http://cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js')
    //if lte IE 8
      script(src='//html5shiv.googlecode.com/svn/trunk/html5.js')
    script.
      window.brunch = window.brunch || {};
      window.brunch['auto-reload'] = {
        enabled: true
      };
    script(src='js/vendor.js')
    script(src='js/partials.js')
    script(src='js/app.js')
  body(ng-controller='AppCtrl', style='position:absolute; height: 100%; width: 100%;')
    .row(style='height: 100%;')
      .col-md-3(style='height: 100%;')
        .sidenav(style='height: 100%;')
          ul.nav.nav-tabs.nav-stacked
            li
              h1(style='margin-left: 14px;') Mycroft
                small  Source
            li
              .panel-group
                .panel.panel-default(style='overflow: visible')
                  .panel-heading
                    h4.panel-title
                      a(ng-href='#/file', ng-class="getClass('/file')") Local File
                        i.pull-right.glyphicon.glyphicon-chevron-right
            li 
              .panel-group
                .panel.panel-default(style='overflow: visible')
                  .panel-heading  
                    h4.panel-title
                      a(ng-href='#/screen', ng-class="getClass('/screen')") Local Display
                        i.pull-right.glyphicon.glyphicon-chevron-right
            li 
              .panel-group
                .panel.panel-default(style='overflow: visible')
                  .panel-heading  
                    h4.panel-title
                      a(ng-href='#/youtube', ng-class="getClass('/youtube')") Web Video
                        i.pull-right.glyphicon.glyphicon-chevron-right
            li 
              .panel-group
                .panel.panel-default(style='overflow: visible')
                  .panel-heading  
                    h4.panel-title
                      a(ng-href='#/webcam', ng-class="getClass('/webcam')") Webcam
                        i.pull-right.glyphicon.glyphicon-chevron-right
            li
              include partials/connect
            li
              div(style='width: 100%;')
                accordion
                  accordion-group
                    accordion-heading Streaming Targets
                      i.pull-right.glyphicon.glyphicon-chevron-down
                    .well
                      include partials/targets
            li 
              div(style='width: 100%; margin-top: 14px;')
                .col-md-6(style="padding-left: 0px; padding-right: 0px;")
                  .btn.btn-success(style='width:100%; text-align: center; margin: 0; border-radius: 0;', ng-click='startStream()', ng-class='{disabled: !conn}')
                    i.glyphicon.glyphicon-play
                .col-md-6(style="padding-left: 0px; padding-right: 0px;")
                  .btn.btn-danger(style='width:100%; text-align: center; margin: 0; border-radius: 0;', ng-click='haltStream()', ng-class='{disabled: !conn}')
                    i.glyphicon.glyphicon-stop
      .col-md-9
        .row(style='margin: 14px;')
          alert(ng-repeat="alert in alerts", type="alert.type", close="closeAlert($index)") {{alert.msg}}
          .content
            div(ng-view)
        .row(style='margin: 14px;')
          include partials/player